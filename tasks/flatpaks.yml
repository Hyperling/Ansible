# Pre-reqs
- name: Install Flatpak
  package:
    name: flatpak
    update_cache: yes

- name: Add Flathub for System
  flatpak_remote:
    name: flathub
    state: present
    method: system
    flatpakrepo_url: https://dl.flathub.org/repo/flathub.flatpakrepo

# Hop into installs
- name: Install Discord
  flatpak:
    name: com.discordapp.Discord

- name: Install Shotcut
  flatpak:
    name: org.shotcut.Shotcut

- name: Install Firefox
  flatpak:
    name: org.mozilla.firefox

- name: Install Thunderbird
  flatpak:
    name: org.mozilla.Thunderbird

# Remove any applicable repo software
- name: Remove packages that may come with an OS but were just installed as Flatpak
  package: 
    name:
    - "{{ firefox }}"
    - "{{ thunderbird }}"
    state: absent