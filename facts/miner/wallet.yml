---
# Load receiver addresses

## Load Config ##

- name: Miner | Facts | Config File | Download
  shell: "scp {{ wallet_server }}:{{ wallet_file_remote }} {{ wallet_file_local }}; chmod 600 {{ wallet_file_local }}"

- name: Miner | Facts | Config File | Load XMR
  set_fact:
    wallet_xmr: "{{ lookup('ini', 'xmr, file={{wallet_file_local}}') }}"
  when: wallet_file_local is file

- name: Miner | Facts | Config File | Load ETH
  set_fact:
    wallet_eth: "{{ lookup('ini', 'eth, file={{wallet_file_local}}') }}"
  when: wallet_file_local is file


## Verify ##

- name: Miner | Facts | Config File | Load ETH
  debug:
    var: "{{ item }}"
  loop: 
    - wallet_xmr
    - wallet_eth