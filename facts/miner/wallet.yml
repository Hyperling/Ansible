---
# Load receiver addresses

## Load Config ##

- name: Miner | Facts | Config File | Download
  shell: "scp {{ config_server }}:{{ config_file_remote }} {{ wallet_file_local }}; chmod 700 {{ config_file_local }}"

- name: Miner | Facts | Config File | Load XMR
  set_fact:
    wallet_xmr: "{{ lookup('ini', 'xmr section={{config_section_wallet}} file={{config_file_local}}') }}"

- name: Miner | Facts | Config File | Load ETH
  set_fact:
    wallet_eth: "{{ lookup('ini', 'eth section={{config_section_wallet}} file={{config_file_local}}') }}"


## Verify ##

- name: Miner | Facts | Config File | Load ETH
  debug:
    var: "{{ item }}"
  loop: 
    - wallet_xmr
    - wallet_eth
